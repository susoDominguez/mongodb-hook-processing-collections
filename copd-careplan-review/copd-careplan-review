{"_id":{"$oid":"635a74f45928c80006d34f31"},"parameter":"alternativeTreatmentPathways","description":"personalised COPD treatments, as suggested by the CDS system, from the assessed GOLD group which were not selected by the user","cigInvolved":[],"dataPaths":[{"label":"cdsSuggestedMeds","Jpath":"context.suggestedTreatmentsByCdsService.entry.resource.code.coding.code","typeOf":"string","required":true},{"label":"selectedMeds","Jpath":"context.copdAssessment.entry.resource[resourceType='Bundle'].entry.resource.code.coding.code","typeOf":"string","required":true}],"actions":[{"action":"function","details":{"symbol":"arr_diff_nonSymm","arg1":"cdsSuggestedMeds","arg2":"selectedMeds"}}]}
{"_id":{"$oid":"635a73c85928c80006d34f2f"},"parameter":"selectedTreatmentPathways","description":"selected treatments by pulmonologist","cigInvolved":[],"dataPaths":[{"label":"userSelectedMeds","Jpath":"context.copdAssessment.entry.resource[resourceType='Bundle'].entry.resource.code.coding.code","typeOf":"string","required":true}]}
{"_id":{"$oid":"635a75055928c80006d34f32"},"parameter":"patientId","description":"finds patient identifier","cigInvolved":[],"dataPaths":[{"label":"patientId","Jpath":"context.patientId","typeOf":"string","required":true}]}
{"_id":{"$oid":"635a75125928c80006d34f33"},"parameter":"pneumococcal_immunization","description":"finds codes for pneumococcal codes in the hook context","cigInvolved":["CIG-COPD"],"dataPaths":[{"label":"immunizationStatus","typeOf":"string","Jpath":"context.immunizationStatus.entry.resource[vaccineCode.coding.code='333598008'].status","defaultVal":"not-done","required":false},{"label":"dateOfBirth","Jpath":"context.birthDate","typeOf":"date","required":true}],"actions":[{"action":"function","details":{"symbol":"calculate_age","arg1":"dateOfBirth"}},{"action":"Qomparison","details":{"arg1":"dateOfBirth","symbol":"gte","arg2":"dateOfBirth"}},{"action":"Qomparison","details":{"arg1":"immunizationStatus","symbol":"eq","arg2":"immunizationStatus"}}],"constraints":[{"dataPathRef":{"dateOfBirth":65,"immunizationStatus":"not-done"},"outcome":["subCIG-PneumnVac"]}]}
{"_id":{"$oid":"635a75325928c80006d34f34"},"parameter":"influenza_immunization","description":"finds influenza immunization codes in hook context","cigInvolved":["CIG-COPD"],"dataPaths":[{"label":"influenzaStatus","Jpath":"context.immunizationStatus.entry.resource[vaccineCode.coding.code='1181000221105'].status","typeOf":"string","defaultVal":"not-done","required":true}],"actions":[{"action":"Qomparison","details":{"arg1":"influenzaStatus","symbol":"eq","arg2":"influenzaStatus"}}],"constraints":[{"dataPathRef":{"influenzaStatus":"not-done"},"outcome":["subCIG-FluVac"]}]}
{"_id":{"$oid":"635a73ef5928c80006d34f30"},"parameter":"additional_selected_meds","description":"treatments additional to the initial treatments in each GOLD group","cigInvolved":["CIG-COPD"],"dataPaths":[{"label":"selectedMeds","Jpath":"context.copdAssessment.entry.resource[resourceType='Bundle'].entry.resource.code.coding.code","typeOf":"string","required":true},{"label":"cdsSuggestedMeds","Jpath":"context.suggestedTreatmentsByCdsService.entry.resource.code.coding.code","typeOf":"string","required":true},{"label":"copd_group_clinical_code","Jpath":"context.copdAssessment.entry.resource[code.coding.code='1097861000000108'].valueCodeableConcept.coding.code","typeOf":"number","required":true}],"actions":[{"action":"function","details":{"symbol":"arr_union","arg1":"selectedMeds","arg2":"cdsSuggestedMeds"}},{"action":"inLhs","details":{"arg2":"selectedMeds","arg1":"selectedMeds"}},{"action":"inLhs","details":{"arg2":"copd_group_clinical_code","arg1":"copd_group_clinical_code"}}],"constraints":[{"dataPathRef":{"copd_group_clinical_code":1097871000000101,"selectedMeds":"Laba"},"outcome":["subCIG-Group_A.Laba"]},{"dataPathRef":{"copd_group_clinical_code":1097871000000101,"selectedMeds":"Lama"},"outcome":["subCIG-Group_A.Lama"]},{"dataPathRef":{"copd_group_clinical_code":1097871000000101,"selectedMeds":"LabaLama"},"outcome":["subCIG-Group_A.LabaLama"]},{"dataPathRef":{"copd_group_clinical_code":1097871000000101,"selectedMeds":"LabaLamaIcs"},"outcome":["subCIG-Group_A.LabaLamaIcs"]},{"dataPathRef":{"copd_group_clinical_code":1097871000000101,"selectedMeds":"LabaIcs"},"outcome":["subCIG-Group_A.LabaIcs"]},{"dataPathRef":{"copd_group_clinical_code":1097881000000104,"selectedMeds":"Saba"},"outcome":["subCIG-Group_B.Saba"]},{"dataPathRef":{"copd_group_clinical_code":1097881000000104,"selectedMeds":"Sama"},"outcome":["subCIG-Group_B.Sama"]},{"dataPathRef":{"copd_group_clinical_code":1097881000000104,"selectedMeds":"SabaSama"},"outcome":["subCIG-Group_B.SabaSama"]},{"dataPathRef":{"copd_group_clinical_code":1097881000000104,"selectedMeds":"LabaLamaIcs"},"outcome":["subCIG-Group_B.LabaLamaIcs"]},{"dataPathRef":{"copd_group_clinical_code":1097881000000104,"selectedMeds":"LabaIcs"},"outcome":["subCIG-Group_B.LabaIcs"]},{"dataPathRef":{"copd_group_clinical_code":1097891000000102,"selectedMeds":"Saba"},"outcome":["subCIG-Group_C.Saba"]},{"dataPathRef":{"copd_group_clinical_code":1097891000000102,"selectedMeds":"Sama"},"outcome":["subCIG-Group_C.Sama"]},{"dataPathRef":{"copd_group_clinical_code":1097891000000102,"selectedMeds":"SabaSama"},"outcome":["subCIG-Group_C.SabaSama"]},{"dataPathRef":{"copd_group_clinical_code":1097891000000102,"selectedMeds":"Laba"},"outcome":["subCIG-Group_C.LabaLamaIcs"]},{"dataPathRef":{"copd_group_clinical_code":1097901000000101,"selectedMeds":"Laba"},"outcome":["subCIG-Group_D.Laba"]},{"dataPathRef":{"copd_group_clinical_code":1097901000000101,"selectedMeds":"Saba"},"outcome":["subCIG-Group_D.Saba"]},{"dataPathRef":{"copd_group_clinical_code":1097901000000101,"selectedMeds":"Sama"},"outcome":["subCIG-Group_D.Sama"]},{"dataPathRef":{"copd_group_clinical_code":1097901000000101,"selectedMeds":"SabaSama"},"outcome":["subCIG-Group_D.SabaSama"]}]}
{"_id":{"$oid":"635a753f5928c80006d34f35"},"parameter":"smoking_status","description":"query context to find out smoking status of patient","cigInvolved":["CIG-COPD"],"dataPaths":[{"label":"smoking_status_code","Jpath":"context.smokingStatus.valueCodeableConcept.coding[].code","typeOf":"number","defaultVal":[8392000],"required":false}],"actions":[{"action":"inLhs","details":{"arg1":"smoking_status_code","arg2":"smoking_status_code"}}],"constraints":[{"dataPathRef":{"smoking_status_code":77176002},"outcome":["subCIG-Smoker"]}]}
{"_id":{"$oid":"635a75665928c80006d34f37"},"parameter":"selected_copd_group","description":"GOLD group as selected by user triggers associated subguidelines","cigInvolved":["CIG-COPD"],"dataPaths":[{"label":"copd_group_code","Jpath":"context.copdAssessment.entry.resource[code.coding.code='1097861000000108'].valueCodeableConcept.coding[].code","typeOf":"number","required":true}],"actions":[{"action":"inLhs","details":{"arg1":"copd_group_code","arg2":"copd_group_code"}}],"constraints":[{"dataPathRef":{"copd_group_code":1097871000000101},"outcome":["subCIG-Group_A","subCIG-Core"]},{"dataPathRef":{"copd_group_code":1097881000000104},"outcome":["subCIG-Group_B","subCIG-Core"]},{"dataPathRef":{"copd_group_code":1097891000000102},"outcome":["subCIG-Group_C","subCIG-Core"]},{"dataPathRef":{"copd_group_code":1097901000000101},"outcome":["subCIG-Group_D","subCIG-Core"]}]}
{"_id":{"$oid":"635a756f5928c80006d34f38"},"parameter":"comorbidities","description":"finds available codes within comorbidities to activate related guidelines","cigInvolved":["CIG-COPD"],"dataPaths":[{"label":"codes","Jpath":"context.comorbidities.entry.resource.code.coding.code","typeOf":"number","required":false}],"actions":[{"action":"is_a","details":{"arg1":"codes","arg2":"codes","termSystem":"SCT"}}],"constraints":[{"dataPathRef":{"codes":709044004},"outcome":["subCIG-Ckd"]},{"dataPathRef":{"codes":472953006},"outcome":["subCIG-Ckd"]},{"dataPathRef":{"codes":49601007},"outcome":["subCIG-Cvd"]},{"dataPathRef":{"codes":266995000},"outcome":["subCIG-Cvd"]}]}
{"_id":{"$oid":"636d3454fd16b9ae68775c6d"},"parameter":"encounterId","description":"finds encounter identifier","cigInvolved":[],"dataPaths":[{"label":"patientId","Jpath":"context.encounterId","typeOf":"string","required":true}]}